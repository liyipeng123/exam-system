<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.neusoft.root.dao.AdminMapper">
	<!-- 管理管理员 -->
	<insert id="addAdmin" parameterType="Admin">
		insert into admin_table values(#{adminId},#{adminName},#{adminPassword})
	</insert>
	
	<delete id="deleteAdmin" parameterType="Admin">
		delete from admin_table where admin_id = #{adminId}
	</delete>
	
	<update id="updateAdmin" parameterType="Map">
		update admin_table
		<set>
			<if test="adminName!=null and adminName!=''">
				admin_name = #{adminName},
			</if>
			<if test="adminPassword!=null and adminPassword!=''">
				admin_password = #{adminPassword},
			</if>
		</set>
		where admin_id in
		<foreach collection="ids" item="item" open="(" separator="," close=")">
			#{item}
		</foreach>
	</update>
	
	<select id="queryAdmin" parameterType="Admin" resultMap="MyAdmin">
		select *
		from admin_table
		<where>
			<if test="adminId!=null and adminId!=''">
				and admin_id = #{adminId}
			</if>
			<if test="adminName!=null and adminName!=''">
				and admin_name = #{adminName}
			</if>
			<if test="adminPassword!=null and adminPassword!=''">
				and admin_password = #{adminPassword}
			</if>
		</where>
	</select>
	
	<resultMap type="Admin" id="MyAdmin">
		<id column="admin_id" property="adminId"/>
		<result column="admin_name" property="adminName"/>
		<result column="admin_password" property="adminPassword"/>
	</resultMap>
	
	<!-- 管理学生-->
	<insert id="addStudent" parameterType="Student">
		insert into student_table values(#{studentId},#{studentName},#{studentPassword},#{studentAcademy},#{studentMajor},#{studentSchool})
	</insert>
	
	<delete id="deleteStudent" parameterType="Student">
		delete from student_table where student_id = #{studentId}
	</delete>
	
	<update id="updateStudent" parameterType="Map">
		update student_table
		<set>
			<if test="studentName!=null and studentName!=''">
				student_name = #{studentName},
			</if>
		</set>
		where student_id in
		<foreach collection="ids" item="item" open="(" separator="," close=")">
			#{item}
		</foreach>
	</update>
	
	<select id="queryStudent" parameterType="Student" resultMap="MyStudent">
		select *
		from student_table
		<where>
			<if test="studentId!=null and studentId!=''">
				and student_id = #{studentId}
			</if>
			<if test="studentName!=null and studentName!=''">
				and student_name = #{studentName}
			</if>
			<if test="studentPassword!=null and studentPassword!=''">
				and student_password = #{studentPassword}
			</if>
			<if test="studentAcademy!=null and studentAcademy!=''">
				and student_academy = #{studentAcademy}
			</if>
			<if test="studentMajor!=null and studentMajor!=''">
				and student_academy = #{studentAcademy}
			</if>
			<if test="studentSchool!=null and studentSchool!=''">
				and student_school = #{studentSchool}
			</if>
		</where>
	</select>
	
	<resultMap type="Student" id="MyStudent">
		<id column="student_id" property="studentId"/>
		<result column="student_name" property="studentName"/>
		<result column="student_password" property="studentPassword"/>
		<result column="student_academy" property="studentAcademy"/>
		<result column="student_major" property="studentMajor"/>
		<result column="student_school" property="studentSchool"/>		
	</resultMap>
</mapper>